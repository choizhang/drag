!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var a=n(1),o=(i(a),n(7));new o.Canvas({containner:"#editCenter"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);Object.defineProperty(t,"select",{enumerable:!0,get:function(){return i.select}});var a=n(3);Object.defineProperty(t,"input",{enumerable:!0,get:function(){return a.input}});var o=n(4);Object.defineProperty(t,"radio",{enumerable:!0,get:function(){return o.radio}});var r=n(5);Object.defineProperty(t,"checkbox",{enumerable:!0,get:function(){return r.checkbox}});var s=n(6);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return s.range}})},function(e,t){"use strict";function n(e){var t='<div class="setting-component">\n                         <div>'+e.label+'</div>\n                         <select class="layout">';e.options.items.forEach(function(n){t+=n.value===e.options.checkedValue?'<option value="'+n.value+'" selected>'+n.text+"</option>":'<option value="'+n.value+'">'+n.text+"</option>"}),t+="</select></div>";var n=$(t);return n.find("select").on("change",function(){var t=$(this).val();e.setDom(parseInt(t))}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.select=n},function(e,t){"use strict";function n(e){var t=$('\n        <div class="setting-component">\n            <div>'+e.label+'</div>\n            <input type="text" class="title" value="'+e.text+'">\n        </div>\n    ');return t.find("input").on("keyup",function(){var t=$(this).val();e.setDom(t)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.input=n},function(e,t){"use strict";function n(e){var t='<div class="setting-component">\n                         <div>'+e.label+'</div>\n                         <div class="checkbox-wrapper">\n                    ';e.options.items.forEach(function(n){t+=n.value===e.options.checkedValue?'<label><input type="radio" value="'+n.value+'" name="'+e.options.name+'" checked>'+n.text+"</label>":'<label><input type="radio" value="'+n.value+'" name="'+e.options.name+'">'+n.text+"</label>"}),t+="</div></div>";var n=$(t);return n.find("input").on("change",function(){var t=$(this).val();e.setDom(parseInt(t))}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.radio=n},function(e,t){"use strict";function n(e){console.log(e.isChecked);var t='<div class="setting-component">\n                         <div>'+e.label+'</div>\n                         <label><input type="checkbox" '+(e.isChecked?"checked":"")+">"+e.text+"</label>\n                    ",n=$(t);return n.find("input").on("change",function(){var t=$(this).prop("checked");e.setDom(t)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.checkbox=n},function(e,t){"use strict";function n(e){var t=$('\n        <div class="setting-component">\n            <div>'+e.label+'</div>\n            <input type="range" max="'+e.max+'" min="'+e.min+'" value="'+e.value+'">\n        </div>\n    ');return t.find("input").on("change mousemove",function(){var t=$(this).val();e.setDom(t)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.range=n},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(n(8),n(9),n(10),n(11)),s=n(1),c=i(s),u=n(13),l=n(12),v=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,e),this.settings=t,this.$containner=$(this.settings.containner),this.$canvas=$("#sortable"),this.$pagePreview=$("#pagePreview"),this.init()}return o(e,[{key:"init",value:function(){this.initCanvas(),this.components=new u.Components({containner:"#editLeft"}),this.settings=new r.Settings({containner:"#editRight"})}},{key:"initCanvas",value:function(){this.$canvas.disableSelection(),this.liBindClick(),this.delBindClick(),this.drop()}},{key:"liBindClick",value:function(){var e=this;this.$canvas.on("click","li",function(t){var n=$(this);if(t.stopPropagation(),n.hasClass("active"))e.$canvas.find(".active").removeClass("active"),e.settings.$tabs.tabs("disable",1),e.settings.$tabs.tabs("option","active",0);else{console.log("dd"),$("#btn-component-save").trigger("click"),e.$canvas.find(".active").removeClass("active"),n.addClass("active"),e.settings.$pannelId.html(n.data("pid"));var i=n.data("setting");e.initSetting(i),e.settings.$tabs.tabs("enable",1),e.settings.$tabs.tabs("option","active",1)}})}},{key:"delBindClick",value:function(){this.$canvas.on("click",".del",function(e){$(this).closest("li").remove(),e.stopPropagation()})}},{key:"drop",value:function(){var e=this;this.$canvas.sortable({items:"li",cursor:"move",sort:function(){},update:function(e,t){console.log(t),l.sortNumber.sort()},deactivate:function(t,n){console.log(e.components.isGeneratorNumber),l.sortNumber.sort()}})}},{key:"initSetting",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.settings.clearWidget();for(var t in e){var n=c[t](e[t]);this.settings.initWidget(n)}}},{key:"pagePreview",value:function(){this.$pagePreview.on("click",function(){})}}]),e}();t.Canvas=v},function(e,t){"use strict";function n(e){return{select:{label:"水平位置",options:{items:[{value:1,text:"居左"},{value:2,text:"居中"},{value:3,text:"居右"}],checkedValue:2},setDom:function(t){var n=void 0;switch(n="object"==typeof t?t.select.options.checkedValue:t){case 1:n="left";break;case 2:n="center";break;case 3:n="right"}e.css("text-align",n)},setSetting:function(){var t=e.css("text-align");switch(t){case"left":t=1;break;case"center":t=2;break;case"right":t=3}this.options.checkedValue=t}},input:{label:"标题",text:"我是分割线",setDom:function(t){var n=void 0;n="object"==typeof t?t.input.text:t,e.find("span").html(n)},setSetting:function(){this.text=e.find("span").html()}}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?n():arguments[0],t=void 0;return t=$('\n                    <div class="dividing">\n                        <hr>\n                        <span>'+e.input.text+"</span>\n                    </div>\n                "),e=n(t),{$html:t,setting:e,save:function(){for(var t in e)e[t].setSetting();return e},reset:function(t){for(var n in e)e[n].setDom(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.dividingHtml=i},function(e,t){"use strict";function n(e){return{range:{label:"左右比例",value:"250",max:350,min:150,setDom:function(t){var n=void 0;n="object"==typeof t?t.input.text:t,e.find(".column-item").eq(0).css("width",n)},setSetting:function(){this.text=e.find("span").html()}}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?n():arguments[0],t=void 0;return t=$('\n                    <div class="column">\n                        <ul class="column-item">\n                        </ul>\n\n                        <ul class="column-item">\n                        </ul>\n                    </div>\n                '),e=n(t),{$html:t,setting:e,save:function(){for(var t in e)e[t].setSetting();return e},reset:function(t){for(var n in e)e[n].setDom(t)},injectJs:function(){var e="\n                    <script>\n                        $(function() {\n\n\n\n                        })\n\n                    </script>\n                    ";return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.column=i},function(e,t){"use strict";function n(e){return{input:{label:"姓名:",text:"请输入姓名",setDom:function(t){var n=void 0;n="object"==typeof t?t.input.text:t,e.find("input").val(n)},setSetting:function(){this.text=e.find("input").val()}},checkbox:{label:"校验:",text:"此项必填",isChecked:!1,setDom:function(t){var n=void 0;n="object"==typeof t?t.checkbox.isChecked:t,n?e.find(".form-required").show():e.find(".form-required").hide()},setSetting:function(){this.isChecked=e.find(".form-required").is(":visible")}},radio:{label:"布局:",options:{items:[{value:1,text:"并列"},{value:2,text:"换行"},{value:3,text:"隐藏标题"}],name:"layout",checkedValue:1},setDom:function(t){var n=void 0;n="object"==typeof t?t.radio.options.checkedValue:t;var i=e.attr("class");i=i.replace(/Type-\d/,"Type-"+(n-1)),e.attr("class",i)},setSetting:function(){var t=void 0,n=e.attr("class");/Type-0/.test(n)?t=1:/Type-1/.test(n)?t=2:/Type-2/.test(n)&&(t=3),this.options.checkedValue=t}}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?n():arguments[0],t=void 0;return t=$('\n                    <div class="text-input sui-form-viewType-0" data="rank">\n                        <label>\n                            <span class="form-required">*</span>\n                            <span class="form-autoNum">1. </span>\n                            '+e.input.label+'\n                        </label>\n                        <input type="text" value="'+e.input.text+'" disabled>\n                    </div>\n                '),e=n(t),{$html:t,setting:e,save:function(){for(var t in e)e[t].setSetting();return e},reset:function(t){for(var n in e)e[n].setDom(t)},injectJs:function(){var e="\n                    <script>\n                        $(function() {\n\n\n\n                        })\n\n                    </script>\n                    ";return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.input=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(12),r=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.settings=t,this.$containner=$(this.settings.containner),this.$settringArea=this.$containner.find(".setting-area"),this.$tabs=$("#tabs"),this.$pannelId=$("#pannelId"),this.init()}return a(e,[{key:"init",value:function(){this.$tabs.tabs({active:0,disabled:[1]}),this.globalSave(),this.componentSave(),this.componentReset(),this.generatorNumber()}},{key:"clearWidget",value:function(){this.$settringArea.html("")}},{key:"initWidget",value:function(e){this.$settringArea.append(e)}},{key:"globalSave",value:function(){$("#bgColor").on("change",function(){var e=$(this).val();$(".design-ui").css("backgroundColor",e)}),$("#setPadding").on("change mousemove",function(){var e=$(this).val();console.log(e),$(".sortable li").css("padding","30px "+e+"px")})}},{key:"componentSave",value:function(){var e=this;$("#btn-component-save").on("click",function(){var t=e.$pannelId.html(),n=$('.ui-state-default[data-pid="'+t+'"]'),i=n.data("setting");i&&n.trigger("save")})}},{key:"componentReset",value:function(){var e=this;$("#btn-component-reset").on("click",function(){var t=e.$pannelId.html(),n=$('.ui-state-default[data-pid="'+t+'"]'),i=n.data("setting");i&&n.trigger("reset")})}},{key:"generatorNumber",value:function(){var e=$("#generatorNumber");e.on("click",function(){o.sortNumber.isGeneratorNumber=e.prop("checked"),o.sortNumber.sort()})}}]),e}();t.Settings=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){n(this,e),this.isGeneratorNumber=!1}return i(e,[{key:"sort",value:function(){var e=$(".form-autoNum");if(this.isGeneratorNumber){var t=$('[data="rank"]');t.each(function(e,t){$(t).find(".form-autoNum").html(e+1+".")}),e.show()}else e.hide()}}]),e}(),o=new a;t.sortNumber=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(8),r=n(9),s=n(10),c=n(12),u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.settings=t,this.componentId=1,this.$containner=$(this.settings.containner),this.$componentsUl=$("#draggable"),this.init()}return a(e,[{key:"init",value:function(){var e=this;this.$componentsUl.find("li").draggable({appendTo:"body",helper:function(){return e.buildComponent($(this).data("component"))},stop:function(e,t){t.helper.removeAttr("style")},connectToSortable:"#sortable, .column-item",cursor:"move"})}},{key:"buildComponent",value:function(e){switch(e){case"dividing":var t=(0,o.dividingHtml)(),n=t.$html,i=t.setting,a=t.save,u=t.reset,l=t.injectJs;break;case"column":var v=(0,r.column)(),n=v.$html,i=v.setting,a=v.save,u=v.reset,l=v.injectJs;break;case"input":var d=(0,s.input)(),n=d.$html,i=d.setting,a=d.save,u=d.reset,l=d.injectJs}var f=this.componentWrapper(n,a,u).data("setting",i);return this.twoRow(f.find(".column-item")),this.injectJs(l),c.sortNumber.sort(),f}},{key:"componentWrapper",value:function(e,t,n){var i=this,a=$('<li class="ui-state-default" data-pid="'+this.componentId++ +' ">\n                    <a class="del">&times;</a>\n                </li>').append(e);return a.on("save",function(){var e=t();a.data("setting",e)}),a.on("reset",function(e){e.stopPropagation();var t=a.data("setting");n(t),i.initSetting(t)}),a}},{key:"twoRow",value:function(e){if(e){var t=this;console.log(e),e.droppable({hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",greedy:!0,drop:function(e,n){switch(n.draggable.data("component")){case"dividing":var i=(0,o.dividingHtml)(),a=i.$html,r=i.setting,u=i.save,l=i.reset;i.injectJs;break;case"input":var v=(0,s.input)(),a=v.$html,r=v.setting,u=v.save,l=v.reset;v.injectJs}var d=t.componentWrapper(a,u,l);d.appendTo(this).data("setting",r),console.log(d),c.sortNumber.sort()}}).sortable({connectWith:".column-item",placeholder:"portlet-placeholder ui-corner-all",deactivate:function(e,t){c.sortNumber.sort()}})}}},{key:"injectJs",value:function(e){e&&$("body").append(e)}}]),e}();t.Components=u}]);
//# sourceMappingURL=../maps/scripts/app-7371d944de.js.map
