!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1);new i.Canvas({containner:"#editCenter"})},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=n(3),u=n(4),c=i(u),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),this.settings=t,this.$containner=$(this.settings.containner),this.$canvas=$("#sortable"),this.$pagePreview=$("#pagePreview"),this.init()}return o(e,[{key:"init",value:function(){this.initCanvas(),this.components=new s.Components({containner:"#editLeft"}),this.settings=new a.Settings({containner:"#editRight"})}},{key:"initCanvas",value:function(){this.$canvas.disableSelection(),this.liBindClick(),this.delBindClick(),this.drop()}},{key:"liBindClick",value:function(){var e=this;this.$canvas.on("click","li",function(t){var n=$(this);if(t.stopPropagation(),n.hasClass("active"))e.$canvas.find(".active").removeClass("active"),e.settings.$tabs.tabs("disable",1),e.settings.$tabs.tabs("option","active",0);else{$("#btn-component-save").trigger("click"),e.$canvas.find(".active").removeClass("active"),n.addClass("active"),e.settings.$pannelId.html(n.data("pid"));var i=n.data("setting");c.initSettings.init(i),e.settings.$tabs.tabs("enable",1),e.settings.$tabs.tabs("option","active",1)}})}},{key:"delBindClick",value:function(){this.$canvas.on("click",".del",function(e){$(this).closest("li").remove(),e.stopPropagation()})}},{key:"drop",value:function(){this.$canvas.sortable({items:"li",cursor:"move",sort:function(){},update:function(e,t){c.sortNumber.sort()},deactivate:function(e,t){c.sortNumber.sort()}})}},{key:"pagePreview",value:function(){this.$pagePreview.on("click",function(){})}}]),e}();t.Canvas=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.settings=t,this.$containner=$(this.settings.containner),this.$settringArea=this.$containner.find(".setting-area"),this.$tabs=$("#tabs"),this.$pannelId=$("#pannelId"),this.init()}return i(e,[{key:"init",value:function(){this.$tabs.tabs({active:0,disabled:[1]}),this.componentSave(),this.componentReset()}},{key:"componentSave",value:function(){var e=this;$("#btn-component-save").on("click",function(){var t=e.$pannelId.html(),n=$('.ui-state-default[data-pid="'+t+'"]'),i=n.data("setting");i&&n.trigger("save")})}},{key:"componentReset",value:function(){var e=this;$("#btn-component-reset").on("click",function(){var t=e.$pannelId.html(),n=$('.ui-state-default[data-pid="'+t+'"]'),i=n.data("setting");i&&n.trigger("reset")})}}]),e}();t.Settings=r},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),s=i(a),u=n(15),c=i(u),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),this.settings=t,this.componentId=1,this.$containner=$(this.settings.containner),this.$componentsUl=$("#draggable"),this.init()}return o(e,[{key:"init",value:function(){var e=this;this.$componentsUl.find("li").draggable({appendTo:"body",helper:function(){return e.buildComponent($(this).data("component"))},stop:function(e,t){t.helper.removeAttr("style"),s.showGrid.action(t.helper)},connectToSortable:"#sortable, .column-item",cursor:"move"})}},{key:"buildComponent",value:function(e){var t=this.factory(e);return this.twoRow(t.find(".column-item")),t}},{key:"componentWrapper",value:function(e,t,n){var i=$('<li class="ui-state-default" data-pid="'+this.componentId++ +' ">\n                    <a class="del">&times;</a>\n                </li>').append(e);return i.on("save",function(){var e=t();i.data("setting",e)}),i.on("reset",function(e){e.stopPropagation();var t=i.data("setting");n(t),s.initSettings.init(t)}),i}},{key:"factory",value:function(e){var t=c[e](),n=t.$html,i=t.setting,r=t.save,o=t.reset,a=t.injectJs,s=this.componentWrapper(n,r,o).data("setting",i);return this.injectJs(a),s}},{key:"twoRow",value:function(e){if(e){var t=this;e.droppable({hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",greedy:!0,drop:function(e,n){var i=n.draggable.data("component"),r=t.factory(i);r.appendTo(this)}}).sortable({connectWith:".column-item",placeholder:"portlet-placeholder ui-corner-all",deactivate:function(e,t){s.sortNumber.sort()}})}}},{key:"injectJs",value:function(e){e&&$("body").append(e)}}]),e}();t.Components=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);Object.defineProperty(t,"sortNumber",{enumerable:!0,get:function(){return i.sortNumber}});var r=n(6);Object.defineProperty(t,"initSettings",{enumerable:!0,get:function(){return r.initSettings}});var o=n(14);Object.defineProperty(t,"showGrid",{enumerable:!0,get:function(){return o.showGrid}})},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e),this.isGeneratorNumber=!1}return i(e,[{key:"sort",value:function(){var e=$(".form-autoNum");if(this.isGeneratorNumber){var t=$('[data="rank"]');t.each(function(e,t){$(t).find(".form-autoNum").html(e+1+".")}),e.show()}else e.hide()}}]),e}(),o=new r;t.sortNumber=o},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(7),s=i(a),u=n(4),c=i(u),l=function(){function e(){r(this,e),this.$settringArea=$(".setting-area"),this.$globalSetting=$("#global-setting-area");var t={color:{label:"背景颜色",value:"#fff",setDom:function(e){$(".design-ui").css("backgroundColor",e)}},range:[{label:"左右间距",value:10,max:30,min:0,setDom:function(e){$(".sortable li").css("padding-left",e+"px"),$(".sortable li").css("padding-right",e+"px")}},{label:"垂直间距",value:30,max:30,min:0,setDom:function(e){$(".sortable li").css("padding-top",e+"px"),$(".sortable li").css("padding-bottom",e+"px")}}],checkbox:[{label:"",text:"自动生成字段编号:",isChecked:!1,setDom:function(e){c.sortNumber.isGeneratorNumber=e,c.sortNumber.sort()}},{label:"",text:"取消组件边框:",isChecked:!1,setDom:function(e){var t=$(".ui-state-default");c.showGrid.action(t,e)}}]};this.initGlobal(t)}return o(e,[{key:"init",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.clear(),this.generator(e,this.$settringArea)}},{key:"initGlobal",value:function(e){this.generator(e,this.$globalSetting)}},{key:"generator",value:function(e,t){var n=function(n){var i=void 0,r=e[n];Array.isArray(r)?r.forEach(function(e){i=s[n](e),t.append(i)}):i=s[n](r),t.append(i)};for(var i in e)n(i)}},{key:"clear",value:function(){this.$settringArea.html("")}}]),e}(),f=new l;t.initSettings=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);Object.defineProperty(t,"select",{enumerable:!0,get:function(){return i.select}});var r=n(9);Object.defineProperty(t,"input",{enumerable:!0,get:function(){return r.input}});var o=n(10);Object.defineProperty(t,"radio",{enumerable:!0,get:function(){return o.radio}});var a=n(11);Object.defineProperty(t,"checkbox",{enumerable:!0,get:function(){return a.checkbox}});var s=n(12);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return s.range}});var u=n(13);Object.defineProperty(t,"color",{enumerable:!0,get:function(){return u.color}})},function(e,t){"use strict";function n(e){var t='<div class="setting-component">\n                         <div>'+e.label+'</div>\n                         <select class="layout">';e.options.items.forEach(function(n){t+=n.value===e.options.checkedValue?'<option value="'+n.value+'" selected>'+n.text+"</option>":'<option value="'+n.value+'">'+n.text+"</option>"}),t+="</select></div>";var n=$(t);return n.find("select").on("change",function(){var t=$(this).val();e.setDom(parseInt(t))}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.select=n},function(e,t){"use strict";function n(e){var t=$('\n        <div class="setting-component">\n            <div>'+e.label+'</div>\n            <input type="text" class="title" value="'+e.text+'">\n        </div>\n    ');return t.find("input").on("keyup",function(){var t=$(this).val();e.setDom(t)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.input=n},function(e,t){"use strict";function n(e){var t='<div class="setting-component">\n                         <div>'+e.label+'</div>\n                         <div class="checkbox-wrapper">\n                    ';e.options.items.forEach(function(n){t+=n.value===e.options.checkedValue?'<label><input type="radio" value="'+n.value+'" name="'+e.options.name+'" checked>'+n.text+"</label>":'<label><input type="radio" value="'+n.value+'" name="'+e.options.name+'">'+n.text+"</label>"}),t+="</div></div>";var n=$(t);return n.find("input").on("change",function(){var t=$(this).val();e.setDom(parseInt(t))}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.radio=n},function(e,t){"use strict";function n(e){var t='<div class="setting-component">\n                         <div>'+(e.label||"")+'</div>\n                         <label><input type="checkbox" '+(e.isChecked?"checked":"")+">"+e.text+"</label>\n                    ",n=$(t);return n.find("input").on("change",function(){var t=$(this).prop("checked");e.setDom(t)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.checkbox=n},function(e,t){"use strict";function n(e){var t=$('\n        <div class="setting-component">\n            <div>'+e.label+'</div>\n            <input type="range" max="'+e.max+'" min="'+e.min+'" value="'+e.value+'">\n        </div>\n    ');return t.find("input").on("change mousemove",function(){var t=$(this).val();e.setDom(t)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.range=n},function(e,t){"use strict";function n(e){var t=$('\n        <div class="setting-component">\n            <label>'+e.label+': <input type="color" id="bgColor" class="color" list="layerBackgroundColor_list"/></label>\n        </div>\n    ');return t.find("input").on("change",function(){var t=$(this).val();e.setDom(t)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.color=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e),this.hideGrid=!1}return i(e,[{key:"action",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.hideGrid:arguments[1];this.hideGrid=t,this.hideGrid?e.addClass("no-border"):e.removeClass("no-border")}}]),e}(),o=new r;t.showGrid=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(16);Object.defineProperty(t,"dividing",{enumerable:!0,get:function(){return i.dividing}});var r=n(17);Object.defineProperty(t,"columnOne",{enumerable:!0,get:function(){return r.columnOne}});var o=n(18);Object.defineProperty(t,"columnTwo",{enumerable:!0,get:function(){return o.columnTwo}});var a=n(19);Object.defineProperty(t,"input",{enumerable:!0,get:function(){return a.input}})},function(e,t){"use strict";function n(e){return{select:{label:"水平位置",options:{items:[{value:1,text:"居左"},{value:2,text:"居中"},{value:3,text:"居右"}],checkedValue:2},setDom:function(t){var n=void 0;switch(n="object"==typeof t?t.select.options.checkedValue:t){case 1:n="left";break;case 2:n="center";break;case 3:n="right"}e.css("text-align",n)},setSetting:function(){var t=e.css("text-align");switch(t){case"left":t=1;break;case"center":t=2;break;case"right":t=3}this.options.checkedValue=t}},input:{label:"标题",text:"我是分割线",setDom:function(t){var n=void 0;n="object"==typeof t?t.input.text:t,e.find("span").html(n)},setSetting:function(){this.text=e.find("span").html()}}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?n():arguments[0],t=void 0;return t=$('\n                    <div class="dividing">\n                        <hr>\n                        <span>'+e.input.text+"</span>\n                    </div>\n                "),e=n(t),{$html:t,setting:e,save:function(){for(var t in e)e[t].setSetting();return e},reset:function(t){for(var n in e)e[n].setDom(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.dividing=i},function(e,t){"use strict";function n(e){return{}}function i(){var e=arguments.length<=0||void 0===arguments[0]?n():arguments[0],t=void 0;return t=$('\n                    <div class="column">\n                        <ul class="column-item column-item-one">\n                        </ul>\n\n                        <ul class="column-item">\n                        </ul>\n                    </div>\n                '),e=n(t),{$html:t,setting:e,save:function(){for(var t in e)e[t].setSetting();return e},reset:function(t){for(var n in e)e[n].setDom(t)},injectJs:function(){var e="\n                    <script>\n                        $(function() {\n\n\n\n                        })\n\n                    </script>\n                    ";return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.columnOne=i},function(e,t){"use strict";function n(e){return{range:{label:"左右比例",value:"250",max:350,min:150,setDom:function(t){var n=void 0;n="object"==typeof t?t.input.text:t,e.find(".column-item").eq(0).css("width",n)},setSetting:function(){this.text=e.find("span").html()}}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?n():arguments[0],t=void 0;return t=$('\n                    <div class="column">\n                        <ul class="column-item">\n                        </ul>\n\n                        <ul class="column-item">\n                        </ul>\n                    </div>\n                '),e=n(t),{$html:t,setting:e,save:function(){for(var t in e)e[t].setSetting();return e},reset:function(t){for(var n in e)e[n].setDom(t)},injectJs:function(){var e="\n                    <script>\n                        $(function() {\n\n\n\n                        })\n\n                    </script>\n                    ";return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.columnTwo=i},function(e,t){"use strict";function n(e){return{input:[{label:"标题:",text:"姓名",setDom:function(t){var n=void 0;n="object"==typeof t?t.input[0].text:t,e.find(".title").html(n)},setSetting:function(){this.text=e.find(".title").html()}},{label:"默认值:",text:"请输入姓名",setDom:function(t){var n=void 0;n="object"==typeof t?t.input[1].text:t,e.find("input").val(n)},setSetting:function(){this.text=e.find("input").val()}}],checkbox:{label:"校验:",text:"此项必填",isChecked:!1,setDom:function(t){var n=void 0;n="object"==typeof t?t.checkbox.isChecked:t,n?e.find(".form-required").show():e.find(".form-required").hide()},setSetting:function(){this.isChecked=e.find(".form-required").is(":visible")}},radio:{label:"布局:",options:{items:[{value:1,text:"并列"},{value:2,text:"换行"},{value:3,text:"隐藏标题"}],name:"layout",checkedValue:1},setDom:function(t){var n=void 0;n="object"==typeof t?t.radio.options.checkedValue:t;var i=e.attr("class");i=i.replace(/Type-\d/,"Type-"+(n-1)),e.attr("class",i)},setSetting:function(){var t=void 0,n=e.attr("class");/Type-0/.test(n)?t=1:/Type-1/.test(n)?t=2:/Type-2/.test(n)&&(t=3),this.options.checkedValue=t}}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?n():arguments[0],t=void 0;return t=$('\n                    <div class="text-input sui-form-viewType-0" data="rank">\n                        <label>\n                            <span class="form-required">*</span>\n                            <span class="form-autoNum">1. </span>\n                            <span class="title">'+e.input[0].text+'</span>\n                        </label>\n                        <input type="text" value="'+e.input[1].text+'" disabled>\n                    </div>\n                '),e=n(t),{$html:t,setting:e,save:function(){for(var t in e){var n=e[t];Array.isArray(n)?n.forEach(function(e){e.setSetting()}):n.setSetting()}return e},reset:function(t){for(var n in e){var i=e[n];Array.isArray(i)?i.forEach(function(e){e.setDom(t)}):i.setDom(t)}},injectJs:function(){var e="\n                    <script>\n                        $(function() {\n\n\n\n                        })\n\n                    </script>\n                    ";return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.input=i}]);
//# sourceMappingURL=../maps/scripts/app-9a33d5a18e.js.map
